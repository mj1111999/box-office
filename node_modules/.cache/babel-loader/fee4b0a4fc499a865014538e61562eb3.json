{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sem 7\\\\Internshala\\\\The Box Office\\\\src\\\\pages\\\\Home.js\";\nimport React, { useState } from 'react';\nimport MainPageLayout from '../components/MainPageLayout';\nimport { apiGet } from '../misc/config';\nimport ShowGrid from '../components/show/ShowGrid';\nimport ActorGrid from '../components/actor/ActorGrid';\nimport { useLastQuery } from '../misc/custom-hooks';\nimport { SearchInput, RadioInputsWrapper, SearchButtonWrapper } from './Home.styled';\nimport CustomRadio from '../components/CustomRadio';\n\nconst Home = () => {\n  const [input, setInput] = useLastQuery();\n  const [results, setResults] = useState(null);\n  const [searchOption, setSearchOption] = useState('shows');\n  const isShowsSearch = searchOption === 'shows';\n\n  const onSearch = () => {\n    apiGet(`/search/${searchOption}?q=${input}`).then(result => {\n      setResults(result);\n    });\n  };\n\n  const onInputChange = ev => {\n    setInput(ev.target.value);\n  };\n\n  const onKeyDown = ev => {\n    if (ev.keyCode === 13) {\n      onSearch();\n    }\n  };\n\n  const onRadioChange = ev => {\n    setSearchOption(ev.target.value);\n  };\n\n  const renderResults = () => {\n    if (results && results.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }\n      }, \"No results\");\n    }\n\n    if (results && results.length > 0) {\n      return results[0].show ? /*#__PURE__*/React.createElement(ShowGrid, {\n        data: results,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }) : /*#__PURE__*/React.createElement(ActorGrid, {\n        data: results,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(MainPageLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    type: \"text\",\n    placeholder: \"Search for something\",\n    onChange: onInputChange,\n    onKeyDown: onKeyDown,\n    value: input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RadioInputsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadio, {\n    label: \"Shows\",\n    id: \"shows-search\",\n    value: \"shows\",\n    checked: isShowsSearch,\n    onChange: onRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadio, {\n    label: \"Actors\",\n    id: \"actors-search\",\n    value: \"people\",\n    checked: !isShowsSearch,\n    onChange: onRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(SearchButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Search\")), renderResults());\n};\n\nexport default Home;","map":{"version":3,"sources":["D:/Sem 7/Internshala/The Box Office/src/pages/Home.js"],"names":["React","useState","MainPageLayout","apiGet","ShowGrid","ActorGrid","useLastQuery","SearchInput","RadioInputsWrapper","SearchButtonWrapper","CustomRadio","Home","input","setInput","results","setResults","searchOption","setSearchOption","isShowsSearch","onSearch","then","result","onInputChange","ev","target","value","onKeyDown","keyCode","onRadioChange","renderResults","length","show"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport MainPageLayout from '../components/MainPageLayout';\nimport { apiGet } from '../misc/config';\nimport ShowGrid from '../components/show/ShowGrid';\nimport ActorGrid from '../components/actor/ActorGrid';\nimport { useLastQuery } from '../misc/custom-hooks';\nimport {\n  SearchInput,\n  RadioInputsWrapper,\n  SearchButtonWrapper,\n} from './Home.styled';\nimport CustomRadio from '../components/CustomRadio';\n\nconst Home = () => {\n  const [input, setInput] = useLastQuery();\n  const [results, setResults] = useState(null);\n  const [searchOption, setSearchOption] = useState('shows');\n\n  const isShowsSearch = searchOption === 'shows';\n  const onSearch = () => {\n    apiGet(`/search/${searchOption}?q=${input}`).then(result => {\n      setResults(result);\n    });\n  };\n\n  const onInputChange = ev => {\n    setInput(ev.target.value);\n  };\n\n  const onKeyDown = ev => {\n    if (ev.keyCode === 13) {\n      onSearch();\n    }\n  };\n\n  const onRadioChange = ev => {\n    setSearchOption(ev.target.value);\n  };\n\n  const renderResults = () => {\n    if (results && results.length === 0) {\n      return <div>No results</div>;\n    }\n\n    if (results && results.length > 0) {\n      return results[0].show ? (\n        <ShowGrid data={results} />\n      ) : (\n        <ActorGrid data={results} />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <MainPageLayout>\n      <SearchInput\n        type=\"text\"\n        placeholder=\"Search for something\"\n        onChange={onInputChange}\n        onKeyDown={onKeyDown}\n        value={input}\n      />\n\n      <RadioInputsWrapper>\n        <div>\n          <CustomRadio\n            label=\"Shows\"\n            id=\"shows-search\"\n            value=\"shows\"\n            checked={isShowsSearch}\n            onChange={onRadioChange}\n          />\n        </div>\n\n        <div>\n          <CustomRadio\n            label=\"Actors\"\n            id=\"actors-search\"\n            value=\"people\"\n            checked={!isShowsSearch}\n            onChange={onRadioChange}\n          />\n        </div>\n      </RadioInputsWrapper>\n\n      <SearchButtonWrapper>\n        <button type=\"button\" onClick={onSearch}>\n          Search\n        </button>\n      </SearchButtonWrapper>\n      {renderResults()}\n    </MainPageLayout>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}