{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sem 7\\\\Internshala\\\\The Box Office\\\\src\\\\pages\\\\Home.js\";\nimport React, { useState } from 'react';\nimport ActorGrid from '../components/actor/ActorGrid';\nimport CustomRadio from '../components/CustomRadio';\nimport MainPageLayout from '../components/MainPageLayout';\nimport ShowGrid from '../components/show/ShowGrid';\nimport { apiGet } from '../misc/config';\nimport { useLastQuery } from '../misc/custom-hooks';\nimport { RadioInputsWrapper, SearchButtonWrapper, SearchInput } from './Home.styled';\n\nconst Home = () => {\n  const [input, setInput] = useLastQuery();\n  const [results, setResults] = useState(null);\n  const [searchOption, setSearchOption] = useState('shows');\n  const isShowsSearch = searchOption === 'shows';\n\n  const onSearch = () => {\n    apiGet(`/search/${searchOption}?q=${input}`).then(result => {\n      setResults(result);\n    });\n  };\n\n  const onInputChange = ev => {\n    setInput(ev.target.value);\n  };\n\n  const onKeyDown = ev => {\n    if (ev.keyCode === 13) {\n      onSearch();\n    }\n  };\n\n  const onRadioChange = ev => {\n    setSearchOption(ev.target.value);\n  };\n\n  const renderResults = () => {\n    if (results && results.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 14\n        }\n      }, \"No results\");\n    }\n\n    if (results && results.length > 0) {\n      return results[0].show ? /*#__PURE__*/React.createElement(ShowGrid, {\n        data: results,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }) : /*#__PURE__*/React.createElement(ActorGrid, {\n        data: results,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(MainPageLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    placeholder: \"Search for something\",\n    type: \"text\",\n    onChange: onInputChange,\n    onKeyDown: onKeyDown,\n    value: input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RadioInputsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadio, {\n    label: \"Shows\",\n    id: \"shows-search\",\n    value: \"shows\",\n    checked: isShowsSearch,\n    onChange: onRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadio, {\n    label: \"Actors\",\n    id: \"actors-search\",\n    value: \"people\",\n    checked: isShowsSearch,\n    onChange: onRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"actors-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Actors\", /*#__PURE__*/React.createElement(\"input\", {\n    id: \"actors-search\",\n    type: \"radio\",\n    value: \"people\",\n    checked: !isShowsSearch,\n    onChange: onRadioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(SearchButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"Search\")), renderResults());\n};\n\nexport default Home;","map":{"version":3,"sources":["D:/Sem 7/Internshala/The Box Office/src/pages/Home.js"],"names":["React","useState","ActorGrid","CustomRadio","MainPageLayout","ShowGrid","apiGet","useLastQuery","RadioInputsWrapper","SearchButtonWrapper","SearchInput","Home","input","setInput","results","setResults","searchOption","setSearchOption","isShowsSearch","onSearch","then","result","onInputChange","ev","target","value","onKeyDown","keyCode","onRadioChange","renderResults","length","show"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport ActorGrid from '../components/actor/ActorGrid';\nimport CustomRadio from '../components/CustomRadio';\nimport MainPageLayout from '../components/MainPageLayout';\nimport ShowGrid from '../components/show/ShowGrid';\nimport { apiGet } from '../misc/config';\nimport { useLastQuery } from '../misc/custom-hooks';\nimport {\n  RadioInputsWrapper,\n  SearchButtonWrapper,\n  SearchInput,\n} from './Home.styled';\n\nconst Home = () => {\n  const [input, setInput] = useLastQuery();\n  const [results, setResults] = useState(null);\n  const [searchOption, setSearchOption] = useState('shows');\n  const isShowsSearch = searchOption === 'shows';\n\n  const onSearch = () => {\n    apiGet(`/search/${searchOption}?q=${input}`).then(result => {\n      setResults(result);\n    });\n  };\n\n  const onInputChange = ev => {\n    setInput(ev.target.value);\n  };\n\n  const onKeyDown = ev => {\n    if (ev.keyCode === 13) {\n      onSearch();\n    }\n  };\n  const onRadioChange = ev => {\n    setSearchOption(ev.target.value);\n  };\n\n  const renderResults = () => {\n    if (results && results.length === 0) {\n      return <div>No results</div>;\n    }\n\n    if (results && results.length > 0) {\n      return results[0].show ? (\n        <ShowGrid data={results} />\n      ) : (\n        <ActorGrid data={results} />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <MainPageLayout>\n      <SearchInput\n        placeholder=\"Search for something\"\n        type=\"text\"\n        onChange={onInputChange}\n        onKeyDown={onKeyDown}\n        value={input}\n      />\n      <RadioInputsWrapper>\n        <div>\n          <CustomRadio\n            label=\"Shows\"\n            id=\"shows-search\"\n            value=\"shows\"\n            checked={isShowsSearch}\n            onChange={onRadioChange}\n          />\n        </div>\n        <div>\n          <CustomRadio\n            label=\"Actors\"\n            id=\"actors-search\"\n            value=\"people\"\n            checked={isShowsSearch}\n            onChange={onRadioChange}\n          />\n          <label htmlFor=\"actors-search\">\n            Actors\n            <input\n              id=\"actors-search\"\n              type=\"radio\"\n              value=\"people\"\n              checked={!isShowsSearch}\n              onChange={onRadioChange}\n            />\n          </label>\n        </div>\n      </RadioInputsWrapper>\n      <SearchButtonWrapper>\n        <button type=\"button\" onClick={onSearch}>\n          Search\n        </button>\n      </SearchButtonWrapper>\n      {renderResults()}\n    </MainPageLayout>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}