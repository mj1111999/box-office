{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sem 7\\\\Internshala\\\\The Box Office\\\\src\\\\pages\\\\Show.js\";\n\n/* eslint-disable no-underscore-dangle */\nimport React, { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { apiGet } from '../misc/config';\nimport ShowMainData from '../components/show/ShowMainData';\nimport Details from '../components/show/Details';\nimport Seasons from '../components/show/Seasons';\nimport Cast from '../components/show/Cast';\nimport { InfoBlock, ShowPageWrapper } from './Show.styled';\n\nconst Show = () => {\n  const {\n    id\n  } = useParams();\n  const [{\n    show,\n    isLoading,\n    error\n  }, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    let isMounted = true;\n    apiGet(`/shows/${id}?embed[]=seasons&embed[]=cast`).then(results => {\n      if (isMounted) {\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          show: results\n        });\n      }\n    }).catch(err => {\n      if (isMounted) {\n        dispatch({\n          type: 'FETCH_FAILED',\n          error: err.message\n        });\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [id]);\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    }, \"Data is being loaded\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 12\n      }\n    }, \"Error occured: \", error);\n  }\n\n  return /*#__PURE__*/React.createElement(ShowPageWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ShowMainData, {\n    image: show.image,\n    name: show.name,\n    rating: show.rating,\n    summary: show.summary,\n    tags: show.genres,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(InfoBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Details\"), /*#__PURE__*/React.createElement(Details, {\n    status: show.status,\n    network: show.network,\n    premiered: show.premiered,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(InfoBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Seasons\"), /*#__PURE__*/React.createElement(Seasons, {\n    seasons: show._embedded.seasons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(InfoBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Cast\"), /*#__PURE__*/React.createElement(Cast, {\n    cast: show._embedded.cast,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Show;","map":{"version":3,"sources":["D:/Sem 7/Internshala/The Box Office/src/pages/Show.js"],"names":["React","useEffect","useReducer","useParams","apiGet","ShowMainData","Details","Seasons","Cast","InfoBlock","ShowPageWrapper","Show","id","show","isLoading","error","dispatch","reducer","initialState","isMounted","then","results","type","catch","err","message","image","name","rating","summary","genres","status","network","premiered","_embedded","seasons","cast"],"mappings":"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","sourcesContent":["/* eslint-disable no-underscore-dangle */\r\nimport React, { useEffect, useReducer } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { apiGet } from '../misc/config';\r\nimport ShowMainData from '../components/show/ShowMainData';\r\nimport Details from '../components/show/Details';\r\nimport Seasons from '../components/show/Seasons';\r\nimport Cast from '../components/show/Cast';\r\nimport { InfoBlock, ShowPageWrapper } from './Show.styled';\r\n\r\nconst Show = () => {\r\n  const { id } = useParams();\r\n\r\n  const [{ show, isLoading, error }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    apiGet(`/shows/${id}?embed[]=seasons&embed[]=cast`)\r\n      .then(results => {\r\n        if (isMounted) {\r\n          dispatch({ type: 'FETCH_SUCCESS', show: results });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        if (isMounted) {\r\n          dispatch({ type: 'FETCH_FAILED', error: err.message });\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  if (isLoading) {\r\n    return <div>Data is being loaded</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error occured: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <ShowPageWrapper>\r\n      <ShowMainData\r\n        image={show.image}\r\n        name={show.name}\r\n        rating={show.rating}\r\n        summary={show.summary}\r\n        tags={show.genres}\r\n      />\r\n\r\n      <InfoBlock>\r\n        <h2>Details</h2>\r\n        <Details\r\n          status={show.status}\r\n          network={show.network}\r\n          premiered={show.premiered}\r\n        />\r\n      </InfoBlock>\r\n\r\n      <InfoBlock>\r\n        <h2>Seasons</h2>\r\n        <Seasons seasons={show._embedded.seasons} />\r\n      </InfoBlock>\r\n\r\n      <InfoBlock>\r\n        <h2>Cast</h2>\r\n        <Cast cast={show._embedded.cast} />\r\n      </InfoBlock>\r\n    </ShowPageWrapper>\r\n  );\r\n};\r\n\r\nexport default Show;\r\n"]},"metadata":{},"sourceType":"module"}